@model List<WebApplication1.Models.Order>
@{
    ViewBag.Title = "訂單首頁";
}
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <h4>搜尋訂單</h4>

    <div>
        @using (Html.BeginForm("SearchOrder", "Order"))
        {
            <table class="table">
                <tr>
                    <td>訂單編號</td>
                    <td><input type="text" name="OrderId" id="OrderId" /></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>客戶名稱</td>
                    <td><input type="text" name="CustName" id="CustName" /></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>負責員工</td>
                    <td>@Html.DropDownList("EmpId")</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>出貨公司</td>
                    <td>@Html.DropDownList("ShipperId")</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>訂購日期</td>
                    <td><input type="date" name="Orderdate" id="Orderdate" /></td>
                    <td>出貨日期</td>
                    <td><input type="date" name="ShippedDate" id="ShippedDate" /></td>
                </tr>
                <tr>
                    <td>需要日期</td>
                    <td><input type="date" name="RequiredDate" id="RequiredDate" /></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="submit" value="查詢" class="btn btn-primary" />
                        <input type="reset" value="清空" class="btn btn-default" />
                    </td>
                    <td></td>
                    <td></td>

                </tr>
            </table>

        }
        <div id="grid"></div>
        
    </div>
</body>

</html>
<script>
    var dataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: "GetAllOrder",
                dataType: "json"
            }
        },
        pageSize: 10
    });
    $(document).ready(function () {

        $("#grid").kendoGrid({
            dataSource: dataSource,
            pageable: true,
            columns: [
        {
            field: "OrderId",
            title: "OrderId"
        },
        {
            field: "CustName",
            title: "CustName",
           
        },
        {
            field: "Orderdate",
            title: "Orderdate",
            template: "#= kendo.toString(kendo.parseDate(Orderdate, 'yyyy-MM-dd'), 'yyyy/MM/dd') #"

        },
        {
            field: "ShippedDate",
            title: "ShippedDate",
            template: "#= kendo.toString(kendo.parseDate(Orderdate, 'yyyy-MM-dd'), 'yyyy/MM/dd') #"
        }]
        });
    });
    
</script>